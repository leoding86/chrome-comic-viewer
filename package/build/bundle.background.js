!function(Q){function F(U){if(B[U])return B[U].exports;var I=B[U]={i:U,l:!1,exports:{}};return Q[U].call(I.exports,I,I.exports,F),I.l=!0,I.exports}var B={};F.m=Q,F.c=B,F.i=function(Q){return Q},F.d=function(Q,B,U){F.o(Q,B)||Object.defineProperty(Q,B,{configurable:!1,enumerable:!0,get:U})},F.n=function(Q){var B=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return F.d(B,"a",B),B},F.o=function(Q,F){return Object.prototype.hasOwnProperty.call(Q,F)},F.p="../build/",F(F.s=51)}({0:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Matcher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return TabStack; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return UrlBuilder; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return _r; });\n/* unused harmony export _ua */\nvar _r = {\n    readcomics: /^https?:\\/{2}w{3}\\.readcomics\\.tv\\/[^\\/]+\\/chapter-[\\d]+/i,\n    readcomiconline: /^https?:\\/{2}readcomiconline\\.to\\/Comic\\/[^\\/]+\\/[^\\/]+\\?id=[\\d]+/i,\n    dm5: /^https?:\\/{2}w{3}\\.dm5\\.com\\/m([\\d]+)(?:-p[\\d]+)?\\/?/i,\n    mangapanda: /^(https?:\\/{2}(?:w{3}\\.)?mangapanda\\.com\\/[^\\/]+\\/\\d+)(?:\\/\\d+)?/i,\n    mangastream: /^(https?:\\/{2}(?:w{3}?\\.)?mangastream\\.com\\/r\\/[^\\/]+\\/\\d+\\/\\d+)(?:\\/\\d+)?\\/?/i,\n    eatmanga: /^https?:\\/{2}(?:w{3}\\.)?eatmanga\\.com\\/Manga-Scan\\/([^\\/]+)\\/([^\\/]+)/i,\n    kissmanga: /^https?:\\/{2}kissmanga\\.com\\/Manga\\/[^\\/]+\\/[^\\/]+\\?id=\\d+/i\n};\n\nvar _ua = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.19 Safari/537.36';\n\nfunction Matcher(url) {\n    this.rule = null;\n    this.setUrl(url);\n}\n\nMatcher.prototype.setUrl = function (url) {\n    this.url = url;\n};\n\nMatcher.prototype.rules = {\n    'readcomics': {\n        pattern: _r.readcomics,\n        site: 'readcomics.tv',\n        logo: 'http://www.readcomics.tv/images/site/front/logo4.png'\n    },\n    'readcomiconline': {\n        pattern: _r.readcomiconline,\n        site: 'readcomiconline.to',\n        logo: 'http://readcomiconline.to/Content/images/logo.png'\n    },\n    'dm5': {\n        pattern: _r.dm5,\n        site: 'dm5.com',\n        logo: 'http://js16.tel.cdndm.com/v201703101145/default/images/newImages/index_main_logo.png'\n    },\n    'mangapanda': {\n        pattern: _r.mangapanda,\n        site: 'www.mangapanda.com',\n        logo: 'http://s5.mangapanda.com/sup/images/dark.813ab89088.png'\n    },\n    'mangastream': {\n        pattern: _r.mangastream,\n        site: 'mangastream.com',\n        logo: 'http://mangastream.com/assets/img/logo.png'\n    },\n    'eatmanga': {\n        pattern: _r.eatmanga,\n        site: 'eatmanga.com',\n        logo: 'http://cdn.eatmanga.com/media/logo.png'\n    },\n    'kissmanga': {\n        pattern: _r.kissmanga,\n        site: 'kissmanga.com',\n        logo: 'http://kissmanga.com/Content/images/logo.png'\n    }\n};\n\nMatcher.prototype.site = function (name) {\n    return this.rules[name];\n};\n\nMatcher.prototype.is = function () {\n    for (var name in this.rules) {\n        if (this.rules[name].pattern.test(this.url)) {\n            this.rule = this.rules[name];\n            return name;\n        }\n    }\n    return null;\n};\n\nMatcher.prototype.origin = function () {\n    return '*://*.' + this.rule.site + '/*';\n};\n\nfunction TabStack() {\n    this.stack = {};\n}\n\nTabStack.prototype.add = function (tabId, obj) {\n    this.stack['tab' + tabId] = obj;\n};\n\nTabStack.prototype.get = function (tabId) {\n    if (this.stack['tab' + tabId]) return this.stack['tab' + tabId];else return null;\n};\n\nTabStack.prototype.set = function (tabId, name, value) {\n    if (this.stack['tab' + tabId]) {\n        this.stack['tab' + tabId][name] = value;\n    }\n};\n\nTabStack.prototype.delete = function (tabId) {\n    if (this.get(tabId)) delete this.stack['tab' + tabId];\n};\n\nfunction UrlBuilder(baseUrl) {\n    this.baseUrl = baseUrl;\n    this.url = baseUrl;\n}\n\nUrlBuilder.prototype.setParams = function (params) {\n    var paramArr = [];\n    for (var name in params) {\n        paramArr.push(name + \"=\" + encodeURIComponent(params[name]));\n    }\n    this.url = this.baseUrl + (this.baseUrl.indexOf('?') > -1 ? '&' : '?') + paramArr.join('&');\n};\n\nUrlBuilder.prototype.getParams = function () {\n    var paramStr = this.url.substr(this.url.indexOf('?') + 1);\n\n    if (paramStr.indexOf('#') > -1) {\n        paramStr = paramStr.substr(0, paramStr.indexOf('#'));\n    }\n\n    var paramArr = paramStr.split('&');\n    var result = {};\n\n    paramArr.forEach(function (obj) {\n        var tmp = obj.split('=');\n        if (tmp.length == 2) {\n            result[tmp[0]] = decodeURIComponent(tmp[1]);\n        }\n    });\n\n    return result;\n};\n\nUrlBuilder.prototype.toString = function () {\n    return this.url;\n};\n\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9jb21tb24uanM/NzM2ZiJdLCJuYW1lcyI6WyJfciIsInJlYWRjb21pY3MiLCJyZWFkY29taWNvbmxpbmUiLCJkbTUiLCJtYW5nYXBhbmRhIiwibWFuZ2FzdHJlYW0iLCJlYXRtYW5nYSIsImtpc3NtYW5nYSIsIl91YSIsIk1hdGNoZXIiLCJ1cmwiLCJydWxlIiwic2V0VXJsIiwicHJvdG90eXBlIiwicnVsZXMiLCJwYXR0ZXJuIiwic2l0ZSIsImxvZ28iLCJuYW1lIiwiaXMiLCJ0ZXN0Iiwib3JpZ2luIiwiVGFiU3RhY2siLCJzdGFjayIsImFkZCIsInRhYklkIiwib2JqIiwiZ2V0Iiwic2V0IiwidmFsdWUiLCJkZWxldGUiLCJVcmxCdWlsZGVyIiwiYmFzZVVybCIsInNldFBhcmFtcyIsInBhcmFtcyIsInBhcmFtQXJyIiwicHVzaCIsImVuY29kZVVSSUNvbXBvbmVudCIsImluZGV4T2YiLCJqb2luIiwiZ2V0UGFyYW1zIiwicGFyYW1TdHIiLCJzdWJzdHIiLCJzcGxpdCIsInJlc3VsdCIsImZvckVhY2giLCJ0bXAiLCJsZW5ndGgiLCJkZWNvZGVVUklDb21wb25lbnQiLCJ0b1N0cmluZyJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQUEsSUFBTUEsS0FBSztBQUNQQyxnQkFBWSwyREFETDtBQUVQQyxxQkFBaUIsb0VBRlY7QUFHUEMsU0FBSyx1REFIRTtBQUlQQyxnQkFBWSxtRUFKTDtBQUtQQyxpQkFBYSxnRkFMTjtBQU1QQyxjQUFVLHdFQU5IO0FBT1BDLGVBQVc7QUFQSixDQUFYOztBQVVBLElBQU1DLE1BQU0sb0hBQVo7O0FBRUEsU0FBU0MsT0FBVCxDQUFpQkMsR0FBakIsRUFBc0I7QUFDbEIsU0FBS0MsSUFBTCxHQUFZLElBQVo7QUFDQSxTQUFLQyxNQUFMLENBQVlGLEdBQVo7QUFDSDs7QUFFREQsUUFBUUksU0FBUixDQUFrQkQsTUFBbEIsR0FBMkIsVUFBVUYsR0FBVixFQUFlO0FBQ3RDLFNBQUtB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QWxCLEVBQXFCO0FBQ2pCSCxtQkFBT0UsSUFBSSxDQUFKLENBQVAsSUFBaUJFLG1CQUFtQkYsSUFBSSxDQUFKLENBQW5CLENBQWpCO0FBQ0g7QUFDSixLQUxEOztBQU9BLFdBQU9GLE1BQVA7QUFDSCxDQWxCRDs7QUFvQkFiLFdBQVdsQixTQUFYLENBQXFCb0MsUUFBckIsR0FBZ0MsWUFBWTtBQUN4QyxXQUFPLEtBQUt2QyxHQUFaO0FBQ0gsQ0FGRCIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgX3IgPSB7XHJcbiAgICByZWFkY29taWNzOiAvXmh0dHBzPzpcXC97Mn13ezN9XFwucmVhZGNvbWljc1xcLnR2XFwvW15cXC9dK1xcL2NoYXB0ZXItW1xcZF0rL2ksXHJcbiAgICByZWFkY29taWNvbmxpbmU6IC9eaHR0cHM/OlxcL3syfXJlYWRjb21pY29ubGluZVxcLnRvXFwvQ29taWNcXC9bXlxcL10rXFwvW15cXC9dK1xcP2lkPVtcXGRdKy9pLFxyXG4gICAgZG01OiAvXmh0dHBzPzpcXC97Mn13ezN9XFwuZG01XFwuY29tXFwvbShbXFxkXSspKD86LXBbXFxkXSspP1xcLz8vaSxcclxuICAgIG1hbmdhcGFuZGE6IC9eKGh0dHBzPzpcXC97Mn0oPzp3ezN9XFwuKT9tYW5nYXBhbmRhXFwuY29tXFwvW15cXC9dK1xcL1xcZCspKD86XFwvXFxkKyk/L2ksXHJcbiAgICBtYW5nYXN0cmVhbTogL14oaHR0cHM/OlxcL3syfSg/Ond7M30/XFwuKT9tYW5nYXN0cmVhbVxcLmNvbVxcL3JcXC9bXlxcL10rXFwvXFxkK1xcL1xcZCspKD86XFwvXFxkKyk/XFwvPy9pLFxyXG4gICAgZWF0bWFuZ2E6IC9eaHR0cHM/OlxcL3syfSg/Ond7M31cXC4pP2VhdG1hbmdhXFwuY29tXFwvTWFuZ2EtU2NhblxcLyhbXlxcL10rKVxcLyhbXlxcL10rKS9pLFxyXG4gICAga2lzc21hbmdhOiAvXmh0dHBzPzpcXC97Mn1raXNzbWFuZ2FcXC5jb21cXC9NYW5nYVxcL1teXFwvXStcXC9bXlxcL10rXFw/aWQ9XFxkKy9pXHJcbn1cclxuXHJcbmNvbnN0IF91YSA9ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNTguMC4zMDI5LjE5IFNhZmFyaS81MzcuMzYnO1xyXG5cclxuZnVuY3Rpb24gTWF0Y2hlcih1cmwpIHtcclxuICAgIHRoaXMucnVsZSA9IG51bGw7XHJcbiAgICB0aGlzLnNldFVybCh1cmwpO1xyXG59XHJcblxyXG5NYXRjaGVyLnByb3RvdHlwZS5zZXRVcmwgPSBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICB0aGlzLnVybCA9IHVybDtcclxufVxyXG5cclxuTWF0Y2hlci5wcm90b3R5cGUucnVsZXMgPSB7XHJcbiAgICAncmVhZGNvbWljcyc6IHtcclxuICAgICAgIHBhdHRlcm46IF9yLnJlYWRjb21pY3MsXHJcbiAgICAgICBzaXRlOiAncmVhZGNvbWljcy50dicsXHJcbiAgICAgICBsb2dvOiAnaHR0cDovL3d3dy5yZWFkY29taWNzLnR2L2ltYWdlcy9zaXRlL2Zyb250L2xvZ280LnBuZydcclxuICAgIH0sXHJcbiAgICAncmVhZGNvbWljb25saW5lJzoge1xyXG4gICAgICAgIHBhdHRlcm46IF9yLnJlYWRjb21pY29ubGluZSxcclxuICAgICAgICBzaXRlOiAncmVhZGNvbWljb25saW5lLnRvJyxcclxuICAgICAgICBsb2dvOiAnaHR0cDovL3JlYWRjb21pY29ubGluZS50by9Db250ZW50L2ltYWdlcy9sb2dvLnBuZydcclxuICAgIH0sXHJcbiAgICAnZG01Jzoge1xyXG4gICAgICAgIHBhdHRlcm46IF9yLmRtNSxcclxuICAgICAgICBzaXRlOiAnZG01LmNvbScsXHJcbiAgICAgICAgbG9nbzogJ2h0dHA6Ly9qczE2LnRlbC5jZG5kbS5jb20vdjIwMTcwMzEwMTE0NS9kZWZhdWx0L2ltYWdlcy9uZXdJbWFnZXMvaW5kZXhfbWFpbl9sb2dvLnBuZydcclxuICAgIH0sXHJcbiAgICAnbWFuZ2FwYW5kYSc6IHtcclxuICAgICAgICBwYXR0ZXJuOiBfci5tYW5nYXBhbmRhLFxyXG4gICAgICAgIHNpdGU6ICd3d3cubWFuZ2FwYW5kYS5jb20nLFxyXG4gICAgICAgIGxvZ286ICdodHRwOi8vczUubWFuZ2FwYW5kYS5jb20vc3VwL2ltYWdlcy9kYXJrLjgxM2FiODkwODgucG5nJ1xyXG4gICAgfSxcclxuICAgICdtYW5nYXN0cmVhbSc6IHtcclxuICAgICAgICBwYXR0ZXJuOiBfci5tYW5nYXN0cmVhbSxcclxuICAgICAgICBzaXRlOiAnbWFuZ2FzdHJlYW0uY29tJyxcclxuICAgICAgICBsb2dvOiAnaHR0cDovL21hbmdhc3RyZWFtLmNvbS9hc3NldHMvaW1nL2xvZ28ucG5nJ1xyXG4gICAgfSxcclxuICAgICdlYXRtYW5nYSc6IHtcclxuICAgICAgICBwYXR0ZXJuOiBfci5lYXRtYW5nYSxcclxuICAgICAgICBzaXRlOiAnZWF0bWFuZ2EuY29tJyxcclxuICAgICAgICBsb2dvOiAnaHR0cDovL2Nkbi5lYXRtYW5nYS5jb20vbWVkaWEvbG9nby5wbmcnXHJcbiAgICB9LFxyXG4gICAgJ2tpc3NtYW5nYSc6IHtcclxuICAgICAgICBwYXR0ZXJuOiBfci5raXNzbWFuZ2EsXHJcbiAgICAgICAgc2l0ZTogJ2tpc3NtYW5nYS5jb20nLFxyXG4gICAgICAgIGxvZ286ICdodHRwOi8va2lzc21hbmdhLmNvbS9Db250ZW50L2ltYWdlcy9sb2dvLnBuZydcclxuICAgIH1cclxufTtcclxuXHJcbk1hdGNoZXIucHJvdG90eXBlLnNpdGUgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgcmV0dXJuIHRoaXMucnVsZXNbbmFtZV07XHJcbn07XHJcblxyXG5NYXRjaGVyLnByb3RvdHlwZS5pcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcy5ydWxlcykge1xyXG4gICAgICAgIGlmICh0aGlzLnJ1bGVzW25hbWVdLnBhdHRlcm4udGVzdCh0aGlzLnVybCkpIHtcclxuICAgICAgICAgICAgdGhpcy5ydWxlID0gdGhpcy5ydWxlc1tuYW1lXTtcclxuICAgICAgICAgICAgcmV0dXJuIG5hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5NYXRjaGVyLnByb3RvdHlwZS5vcmlnaW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gJyo6Ly8qLicgKyB0aGlzLnJ1bGUuc2l0ZSArICcvKic7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBUYWJTdGFjayAoKSB7XHJcbiAgICB0aGlzLnN0YWNrID0geyB9O1xyXG59XHJcblxyXG5UYWJTdGFjay5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHRhYklkLCBvYmopIHtcclxuICAgIHRoaXMuc3RhY2tbJ3RhYicgKyB0YWJJZF0gPSBvYmo7XHJcbn1cclxuXHJcblRhYlN0YWNrLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAodGFiSWQpIHtcclxuICAgIGlmICh0aGlzLnN0YWNrWyd0YWInICsgdGFiSWRdKVxyXG4gICAgICAgIHJldHVybiB0aGlzLnN0YWNrWyd0YWInICsgdGFiSWRdO1xyXG4gICAgZWxzZVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG59XHJcblxyXG5UYWJTdGFjay5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHRhYklkLCBuYW1lLCB2YWx1ZSkge1xyXG4gICAgaWYgKHRoaXMuc3RhY2tbJ3RhYicgKyB0YWJJZF0pIHtcclxuICAgICAgICB0aGlzLnN0YWNrWyd0YWInICsgdGFiSWRdW25hbWVdID0gdmFsdWU7XHJcbiAgICB9XHJcbn1cclxuXHJcblRhYlN0YWNrLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAodGFiSWQpIHtcclxuICAgIGlmICh0aGlzLmdldCh0YWJJZCkpXHJcbiAgICAgICAgZGVsZXRlIHRoaXMuc3RhY2tbJ3RhYicgKyB0YWJJZF07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFVybEJ1aWxkZXIoYmFzZVVybCkge1xyXG4gICAgdGhpcy5iYXNlVXJsID0gYmFzZVVybDtcclxuICAgIHRoaXMudXJsID0gYmFzZVVybDtcclxufVxyXG5cclxuVXJsQnVpbGRlci5wcm90b3R5cGUuc2V0UGFyYW1zID0gZnVuY3Rpb24gKHBhcmFtcykge1xyXG4gICAgbGV0IHBhcmFtQXJyID0gW107XHJcbiAgICBmb3IgKHZhciBuYW1lIGluIHBhcmFtcykge1xyXG4gICAgICAgIHBhcmFtQXJyLnB1c2gobmFtZSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtc1tuYW1lXSkpO1xyXG4gICAgfVxyXG4gICAgdGhpcy51cmwgPSB0aGlzLmJhc2VVcmwgKyAodGhpcy5iYXNlVXJsLmluZGV4T2YoJz8nKSA+IC0xID8gJyYnIDogJz8nKSArIHBhcmFtQXJyLmpvaW4oJyYnKTtcclxufVxyXG5cclxuVXJsQnVpbGRlci5wcm90b3R5cGUuZ2V0UGFyYW1zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IHBhcmFtU3RyID0gdGhpcy51cmwuc3Vic3RyKHRoaXMudXJsLmluZGV4T2YoJz8nKSArIDEpO1xyXG5cclxuICAgIGlmIChwYXJhbVN0ci5pbmRleE9mKCcjJykgPiAtMSkge1xyXG4gICAgICAgIHBhcmFtU3RyID0gcGFyYW1TdHIuc3Vic3RyKDAsIHBhcmFtU3RyLmluZGV4T2YoJyMnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHBhcmFtQXJyID0gcGFyYW1TdHIuc3BsaXQoJyYnKTtcclxuICAgIGxldCByZXN1bHQgPSB7fTtcclxuXHJcbiAgICBwYXJhbUFyci5mb3JFYWNoKChvYmopID0+IHtcclxuICAgICAgICBsZXQgdG1wID0gb2JqLnNwbGl0KCc9Jyk7XHJcbiAgICAgICAgaWYgKHRtcC5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICByZXN1bHRbdG1wWzBdXSA9IGRlY29kZVVSSUNvbXBvbmVudCh0bXBbMV0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcblVybEJ1aWxkZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudXJsO1xyXG59XHJcblxyXG5leHBvcnQgeyBNYXRjaGVyLCBUYWJTdGFjaywgVXJsQnVpbGRlciwgX3IsIF91YSB9XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL21vZHVsZXMvY29tbW9uLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==")},51:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__modules_common__ = __webpack_require__(0);\n\n\nvar matcher = new __WEBPACK_IMPORTED_MODULE_0__modules_common__[\"a\" /* Matcher */]();\nvar tabStack = new __WEBPACK_IMPORTED_MODULE_0__modules_common__[\"c\" /* TabStack */]();\n\nchrome.webRequest.onCompleted.addListener(function (details) {\n    matcher.setUrl(details.url);\n    if (name = matcher.is()) {\n        if (details.tabId > 1) {\n            /* Change icon to active one */\n            setTimeout(function () {\n                chrome.browserAction.setIcon({\n                    path: {\n                        '38': '../assets/icon.png'\n                    },\n                    tabId: details.tabId\n                }, function () {\n                    console.log('icon has been setted');\n                });\n            }, 100);\n            tabStack.add(details.tabId, {\n                parser: name,\n                site: matcher.site(name).site,\n                url: details.url,\n                logo: matcher.site(name).logo\n            });\n\n            chrome.tabs.executeScript(details.tabId, { file: './build/bundle.app_cvr.js' });\n        }\n    }\n}, { urls: [\"<all_urls>\"], types: [\"main_frame\"] });\n\nchrome.tabs.onRemoved.addListener(function (tabId) {\n    tabStack.delete(tabId);\n});\n\nchrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {\n    if (request.from === 'popup' && request.data.op === 'needData') {\n        var responseData = tabStack.get(request.data.tabId);\n        if (responseData !== null) {\n            sendResponse({ data: responseData });\n        }\n    }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmFja2dyb3VuZC5qcz82NDBmIl0sIm5hbWVzIjpbIm1hdGNoZXIiLCJ0YWJTdGFjayIsImNocm9tZSIsIndlYlJlcXVlc3QiLCJvbkNvbXBsZXRlZCIsImFkZExpc3RlbmVyIiwiZGV0YWlscyIsInNldFVybCIsInVybCIsIm5hbWUiLCJpcyIsInRhYklkIiwic2V0VGltZW91dCIsImJyb3dzZXJBY3Rpb24iLCJzZXRJY29uIiwicGF0aCIsImNvbnNvbGUiLCJsb2ciLCJhZGQiLCJwYXJzZXIiLCJzaXRlIiwibG9nbyIsInRhYnMiLCJleGVjdXRlU2NyaXB0IiwiZmlsZSIsInVybHMiLCJ0eXBlcyIsIm9uUmVtb3ZlZCIsImRlbGV0ZSIsInJ1bnRpbWUiLCJvbk1lc3NhZ2UiLCJyZXF1ZXN0Iiwic2VuZGVyIiwic2VuZFJlc3BvbnNlIiwiZnJvbSIsImRhdGEiLCJvcCIsInJlc3BvbnNlRGF0YSIsImdldCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFFQSxJQUFJQSxVQUFVLElBQUksZ0VBQUosRUFBZDtBQUNBLElBQUlDLFdBQVcsSUFBSSxpRUFBSixFQUFmOztBQUVBQyxPQUFPQyxVQUFQLENBQWtCQyxXQUFsQixDQUE4QkMsV0FBOUIsQ0FBMEMsVUFBQ0MsT0FBRCxFQUFhO0FBQ25ETixZQUFRTyxNQUFSLENBQWVELFFBQVFFLEdBQXZCO0FBQ0EsUUFBSUMsT0FBT1QsUUFBUVUsRUFBUixFQUFYLEVBQXlCO0FBQ3JCLFlBQUlKLFFBQVFLLEtBQVIsR0FBZ0IsQ0FBcEIsRUFBdUI7QUFDbkI7QUFDQUMsdUJBQVcsWUFBTTtBQUNiVix1QkFBT1csYUFBUCxDQUFxQkMsT0FBckIsQ0FBNkI7QUFDekJDLDBCQUFNO0FBQ0YsOEJBQU07QUFESixxQkFEbUI7QUFJekJKLDJCQUFPTCxRQUFRSztBQUpVLGlCQUE3QixFQUtHLFlBQU07QUFBRUssNEJBQVFDLEdBQVIsQ0FBWSxzQkFBWjtBQUFxQyxpQkFMaEQ7QUFNSCxhQVBELEVBT0csR0FQSDtBQVFBaEIscUJBQVNpQixHQUFULENBQ0laLFFBQVFLLEtBRFosRUFFSTtBQUNJUSx3QkFBUVYsSUFEWjtBQUVJVyxzQkFBTXBCLFFBQVFvQixJQUFSLENBQWFYLElBQWIsRUFBbUJXLElBRjdCO0FBR0laLHFCQUFLRixRQUFRRSxHQUhqQjtBQUlJYSxzQkFBTXJCLFFBQVFvQixJQUFSLENBQWFYLElBQWIsRUFBbUJZO0FBSjdCLGFBRko7O0FBVUFuQixtQkFBT29CLElBQVAsQ0FBWUMsYUFBWixDQUEwQmpCLFFBQVFLLEtBQWxDLEVBQXlDLEVBQUVhLE1BQU0sMkJBQVIsRUFBekM7QUFDSDtBQUNKO0FBQ0osQ0ExQkQsRUEwQkcsRUFBRUMsTUFBTSxDQUFFLFlBQUYsQ0FBUixFQUEwQkMsT0FBTyxDQUFFLFlBQUYsQ0FBakMsRUExQkg7O0FBNEJBeEIsT0FBT29CLElBQVAsQ0FBWUssU0FBWixDQUFzQnRCLFdBQXRCLENBQWtDLFVBQUNNLEtBQUQsRUFBVztBQUN6Q1YsYUFBUzJCLE1BQVQsQ0FBZ0JqQixLQUFoQjtBQUNILENBRkQ7O0FBSUFULE9BQU8yQixPQUFQLENBQWVDLFNBQWYsQ0FBeUJ6QixXQUF6QixDQUFxQyxVQUFDMEIsT0FBRCxFQUFVQyxNQUFWLEVBQWtCQyxZQUFsQixFQUFtQztBQUNwRSxRQUFJRixRQUFRRyxJQUFSLEtBQWlCLE9BQWpCLElBQTRCSCxRQUFRSSxJQUFSLENBQWFDLEVBQWIsS0FBb0IsVUFBcEQsRUFBZ0U7QUFDNUQsWUFBSUMsZUFBZXBDLFNBQVNxQyxHQUFULENBQWFQLFFBQVFJLElBQVIsQ0FBYXhCLEtBQTFCLENBQW5CO0FBQ0EsWUFBSTBCLGlCQUFpQixJQUFyQixFQUEyQjtBQUN2QkoseUJBQWEsRUFBRUUsTUFBTUUsWUFBUixFQUFiO0FBQ0g7QUFDSjtBQUNKLENBUEQiLCJmaWxlIjoiNTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNYXRjaGVyLCBUYWJTdGFjayB9IGZyb20gJy4vbW9kdWxlcy9jb21tb24nO1xyXG5cclxudmFyIG1hdGNoZXIgPSBuZXcgTWF0Y2hlcigpO1xyXG52YXIgdGFiU3RhY2sgPSBuZXcgVGFiU3RhY2soKTtcclxuXHJcbmNocm9tZS53ZWJSZXF1ZXN0Lm9uQ29tcGxldGVkLmFkZExpc3RlbmVyKChkZXRhaWxzKSA9PiB7XHJcbiAgICBtYXRjaGVyLnNldFVybChkZXRhaWxzLnVybCk7XHJcbiAgICBpZiAobmFtZSA9IG1hdGNoZXIuaXMoKSkge1xyXG4gICAgICAgIGlmIChkZXRhaWxzLnRhYklkID4gMSkge1xyXG4gICAgICAgICAgICAvKiBDaGFuZ2UgaWNvbiB0byBhY3RpdmUgb25lICovXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2hyb21lLmJyb3dzZXJBY3Rpb24uc2V0SWNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnMzgnOiAnLi4vYXNzZXRzL2ljb24ucG5nJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdGFiSWQ6IGRldGFpbHMudGFiSWRcclxuICAgICAgICAgICAgICAgIH0sICgpID0+IHsgY29uc29sZS5sb2coJ2ljb24gaGFzIGJlZW4gc2V0dGVkJykgfSk7XHJcbiAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgICAgIHRhYlN0YWNrLmFkZChcclxuICAgICAgICAgICAgICAgIGRldGFpbHMudGFiSWQsXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VyOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpdGU6IG1hdGNoZXIuc2l0ZShuYW1lKS5zaXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIHVybDogZGV0YWlscy51cmwsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9nbzogbWF0Y2hlci5zaXRlKG5hbWUpLmxvZ29cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGNocm9tZS50YWJzLmV4ZWN1dGVTY3JpcHQoZGV0YWlscy50YWJJZCwgeyBmaWxlOiAnLi9idWlsZC9idW5kbGUuYXBwX2N2ci5qcycgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59LCB7IHVybHM6IFsgXCI8YWxsX3VybHM+XCIgXSwgdHlwZXM6IFsgXCJtYWluX2ZyYW1lXCIgXSB9KTtcclxuXHJcbmNocm9tZS50YWJzLm9uUmVtb3ZlZC5hZGRMaXN0ZW5lcigodGFiSWQpID0+IHtcclxuICAgIHRhYlN0YWNrLmRlbGV0ZSh0YWJJZCk7XHJcbn0pO1xyXG5cclxuY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKChyZXF1ZXN0LCBzZW5kZXIsIHNlbmRSZXNwb25zZSkgPT4ge1xyXG4gICAgaWYgKHJlcXVlc3QuZnJvbSA9PT0gJ3BvcHVwJyAmJiByZXF1ZXN0LmRhdGEub3AgPT09ICduZWVkRGF0YScpIHtcclxuICAgICAgICB2YXIgcmVzcG9uc2VEYXRhID0gdGFiU3RhY2suZ2V0KHJlcXVlc3QuZGF0YS50YWJJZCk7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlRGF0YSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBzZW5kUmVzcG9uc2UoeyBkYXRhOiByZXNwb25zZURhdGEgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmFja2dyb3VuZC5qcyJdLCJzb3VyY2VSb290IjoiIn0=")}});